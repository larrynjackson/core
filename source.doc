



               EIGHT                       DBYTE   8  
               R3IDX                       DBYTE   5  
               R5IDX                       DBYTE   7  
               BUFFER:HI                   DBYTE   66  
               SIX                         DBYTE   6  
               R7IDX                       DBYTE   9  
               STK-A:LO                    DBYTE   240  
               BUFFER:LO                   DBYTE   255  
               FOUR                        DBYTE   4  
               ONE                         DBYTE   1  
               R1IDX                       DBYTE   3  
               STKBUF:HI                   DBYTE   77  
               ZERO                        DBYTE   0  
               THREE                       DBYTE   3  
               FIVE                        DBYTE   5  
               SEVEN                       DBYTE   7  
               R0IDX                       DBYTE   2  
               R2IDX                       DBYTE   4  
               R4IDX                       DBYTE   6  
               R6IDX                       DBYTE   8  
               TWO                         DBYTE   2  
               STK-A:HI                    DBYTE   216  
               STKBUF:LO                   DBYTE   255  
               STK-A:PT                    DBYTE   239  


               ENDMAIN:LO                  DBYTE   55  
               STK-A-PUSH:LO               DBYTE   66  
               STK-A-POP:HI                DBYTE   0  
               STK-A-POP:LO                DBYTE   81  
               RETURN:LO                   DBYTE   112  
               START:LO                    DBYTE   0  
               PUSHBUFNEXT:LO              DBYTE   15  
               ENDMAIN:HI                  DBYTE   0  
               ENDPROGRAM:HI               DBYTE   0  
               STK-A-INIT:LO               DBYTE   60  
               RETURN:HI                   DBYTE   0  
               PUSHDONE:HI                 DBYTE   0  
               PUSHDONE:LO                 DBYTE   30  
               STK-A-INIT:HI               DBYTE   0  
               STK-A-ISEMPTY:HI            DBYTE   0  
               STK-A-ISEMPTY:LO            DBYTE   100  
               PUSHBUFNEXT:HI              DBYTE   0  
               POPSTACKNEXT:LO             DBYTE   34  
               ENDPROGRAM:LO               DBYTE   59  
               STK-A-PUSH:HI               DBYTE   0  
               START:HI                    DBYTE   0  
               POPSTACKNEXT:HI             DBYTE   0  


00000  0x9000  START:            LDI       R0 ZERO 
00001  0x5000                    NOT       R0 R0 
00002  0xC800                    LDSR      R0 
00003  0x9700                    LDI       R7 STK-A-INIT:HI 
00004  0x47F0                    SHL       R7 R7 8 
00005  0x6F3C                    ADDI      R7 STK-A-INIT:LO 
00006  0xDF00                    CALL      R7 
00007  0x9042                    LDI       R0 BUFFER:HI 
00008  0x4010                    SHL       R0 R0 8 
00009  0x68FF                    ADDI      R0 BUFFER:LO 
00010  0xC000                    IN        R0 
00011  0x9600                    LDI       R6 ZERO 
00012  0x9742                    LDI       R7 BUFFER:HI 
00013  0x47F0                    SHL       R7 R7 8 
00014  0x6FFF                    ADDI      R7 BUFFER:LO 
00015  0x30F8  PUSHBUFNEXT:      LDW       R0 R7 R6 
00016  0x9500                    LDI       R5 PUSHDONE:HI 
00017  0x45B0                    SHL       R5 R5 8 
00018  0x6D1E                    ADDI      R5 PUSHDONE:LO 
00019  0x9800                    CMPI      R0 ZERO 
00020  0x6510                    BFLAG     R5 EQ 
00021  0x9300                    LDI       R3 STK-A-PUSH:HI 
00022  0x4370                    SHL       R3 R3 8 
00023  0x6B42                    ADDI      R3 STK-A-PUSH:LO 
00024  0xDB00                    CALL      R3 
00025  0x6E01                    ADDI      R6 ONE 
00026  0x9500                    LDI       R5 PUSHBUFNEXT:HI 
00027  0x45B0                    SHL       R5 R5 8 
00028  0x6D0F                    ADDI      R5 PUSHBUFNEXT:LO 
00029  0xA500                    JUMP      R5 
00030  0x9600  PUSHDONE:         LDI       R6 ZERO 
00031  0x9742                    LDI       R7 BUFFER:HI 
00032  0x47F0                    SHL       R7 R7 8 
00033  0x6FFF                    ADDI      R7 BUFFER:LO 
00034  0x9500  POPSTACKNEXT:     LDI       R5 STK-A-ISEMPTY:HI 
00035  0x45B0                    SHL       R5 R5 8 
00036  0x6D64                    ADDI      R5 STK-A-ISEMPTY:LO 
00037  0xDD00                    CALL      R5 
00038  0x9801                    CMPI      R0 ONE 
00039  0x9500                    LDI       R5 ENDMAIN:HI 
00040  0x45B0                    SHL       R5 R5 8 
00041  0x6D37                    ADDI      R5 ENDMAIN:LO 
00042  0x6510                    BFLAG     R5 EQ 
00043  0x9500                    LDI       R5 STK-A-POP:HI 
00044  0x45B0                    SHL       R5 R5 8 
00045  0x6D51                    ADDI      R5 STK-A-POP:LO 
00046  0xDD00                    CALL      R5 
00047  0x38F8                    STW       R0 R7 R6 
00048  0x6E01                    ADDI      R6 ONE 
00049  0x9300                    LDI       R3 ZERO 
00050  0x3BF8                    STW       R3 R7 R6 
00051  0x9500                    LDI       R5 POPSTACKNEXT:HI 
00052  0x45B0                    SHL       R5 R5 8 
00053  0x6D22                    ADDI      R5 POPSTACKNEXT:LO 
00054  0xA500                    JUMP      R5 
00055  0x9042  ENDMAIN:          LDI       R0 BUFFER:HI 
00056  0x4010                    SHL       R0 R0 8 
00057  0x68FF                    ADDI      R0 BUFFER:LO 
00058  0xB800                    OUT       R0 
00059  0x0000  ENDPROGRAM:       HALT      
00060  0x90D8  STK-A-INIT:       LDI       R0 STK-A:HI 
00061  0x4010                    SHL       R0 R0 8 
00062  0x68EF                    ADDI      R0 STK-A:PT 
00063  0x9100                    LDI       R1 ZERO 
00064  0x3904                    STW       R1 R0 R1 
00065  0xE000                    RTRN      
00066  0xEF00  STK-A-PUSH:       MVSR      R7 
00067  0x9602                    LDI       R6 R0IDX 
00068  0x30F8                    LDW       R0 R7 R6 
00069  0x97D8                    LDI       R7 STK-A:HI 
00070  0x47F0                    SHL       R7 R7 8 
00071  0x6FEF                    ADDI      R7 STK-A:PT 
00072  0x9600                    LDI       R6 ZERO 
00073  0x31F8                    LDW       R1 R7 R6 
00074  0x6901                    ADDI      R1 ONE 
00075  0x39F8                    STW       R1 R7 R6 
00076  0x97D8                    LDI       R7 STK-A:HI 
00077  0x47F0                    SHL       R7 R7 8 
00078  0x6FF0                    ADDI      R7 STK-A:LO 
00079  0x38E4                    STW       R0 R7 R1 
00080  0xE000                    RTRN      
00081  0x97D8  STK-A-POP:        LDI       R7 STK-A:HI 
00082  0x47F0                    SHL       R7 R7 8 
00083  0x6FEF                    ADDI      R7 STK-A:PT 
00084  0x9600                    LDI       R6 ZERO 
00085  0x31F8                    LDW       R1 R7 R6 
00086  0x97D8                    LDI       R7 STK-A:HI 
00087  0x47F0                    SHL       R7 R7 8 
00088  0x6FF0                    ADDI      R7 STK-A:LO 
00089  0x30E4                    LDW       R0 R7 R1 
00090  0x97D8                    LDI       R7 STK-A:HI 
00091  0x47F0                    SHL       R7 R7 8 
00092  0x6FEF                    ADDI      R7 STK-A:PT 
00093  0x9600                    LDI       R6 ZERO 
00094  0x7101                    SUBI      R1 ONE 
00095  0x39F8                    STW       R1 R7 R6 
00096  0xEF00                    MVSR      R7 
00097  0x9602                    LDI       R6 R0IDX 
00098  0x38F8                    STW       R0 R7 R6 
00099  0xE000                    RTRN      
00100  0x97D8  STK-A-ISEMPTY:    LDI       R7 STK-A:HI 
00101  0x47F0                    SHL       R7 R7 8 
00102  0x6FEF                    ADDI      R7 STK-A:PT 
00103  0x9600                    LDI       R6 ZERO 
00104  0x31F8                    LDW       R1 R7 R6 
00105  0x9001                    LDI       R0 ONE 
00106  0x9900                    CMPI      R1 ZERO 
00107  0x9700                    LDI       R7 RETURN:HI 
00108  0x47F0                    SHL       R7 R7 8 
00109  0x6F70                    ADDI      R7 RETURN:LO 
00110  0x6710                    BFLAG     R7 EQ 
00111  0x9000                    LDI       R0 ZERO 
00112  0xEF00  RETURN:           MVSR      R7 
00113  0x9602                    LDI       R6 R0IDX 
00114  0x38F8                    STW       R0 R7 R6 
00115  0xE000                    RTRN      
